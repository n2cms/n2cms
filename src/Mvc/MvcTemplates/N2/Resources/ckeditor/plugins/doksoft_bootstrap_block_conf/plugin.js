(function(){var e=1;function d(){if(typeof window["DOKSOFT"]=="undefined"){window["DOKSOFT"]=[];}if(typeof window["DOKSOFT"]["doksoft_bootstrap_block_conf"]=="undefined"){window["DOKSOFT"]["doksoft_bootstrap_block_conf"]=[];}return window["DOKSOFT"]["doksoft_bootstrap_block_conf"];}function f(j){var i=d();if(typeof window["DOKSOFT"]["doksoft_bootstrap_block_conf"]["_"+j]=="undefined"){window["DOKSOFT"]["doksoft_bootstrap_block_conf"]["_"+j]=[];}return window["DOKSOFT"]["doksoft_bootstrap_block_conf"]["_"+j];}function c(j,k){var i=f(j);if(typeof i[k]=="undefined"){return null;}return i[k];}function a(i,k,j){f(i)[k]=j;}function h(j){var i=d();if(typeof i[j]=="undefined"){return null;}return i[j];}function b(j,i){d()[j]=i;}function g(j,i){return j.lang["doksoft_bootstrap_block_conf"][i];}if(e==1){b("div_classes",["col-lg-x","col-lg-offset-x","col-md-x","col-md-offset-x","col-sm-x","col-sm-offset-x","col-xs-x","col-xs-offset-x"]);b("vis_classes",["visible-lg","hidden-lg","visible-md","hidden-md","visible-sm","hidden-sm","visible-xs","hidden-xs"]);}else{if(e==2){b("div_classes",["large-x","large-offset-x","medium-x","medium-offset-x","small-x","small-offset-x","",""]);b("vis_classes_by_size",["show-for-small-only","show-for-medium-up","show-for-medium-only","show-for-large-up","show-for-large-only","show-for-xlarge-up","show-for-xlarge-only","show-for-xxlarge-up","hide-for-small-only","hide-for-medium-up","hide-for-medium-only","hide-for-large-up","hide-for-large-only","hide-for-xlarge-up","hide-for-xlarge-only","hide-for-xxlarge-up"]);b("vis_classes_by_orientation",["show-for-landscape","show-for-portrait"]);}}b("col_classes",["select-col-lg-x","select-col-lg-offset-x","select-col-md-x","select-col-md-offset-x","select-col-sm-x","select-col-sm-offset-x","select-col-xs-x","select-col-xs-offset-x"]);CKEDITOR.plugins.add("doksoft_bootstrap_block_conf",{icons:"doksoft_bootstrap_block_conf",lang:"en,ru",requires:[(e==1?"doksoft_bootstrap_advanced_blocks":"doksoft_foundation_advanced_blocks")],init:function(j){a(j.name,"dlg_opened",false);a(j.name,"selected_element",null);if(false){j.ui.addButton("doksoft_bootstrap_block_conf",{command:"doksoft_bootstrap_block_conf",icon:this.path+"icons/doksoft_bootstrap_block_conf.png"});}CKEDITOR.dialog.add("doksoft_bootstrap_block_conf",function(n){var l="";var o="";if(e==2){var k=h("vis_classes_by_size");l+='<option value="">'+g(n,"none")+"</option>";for(var m=0;m<k.length;m++){l+='<option value="'+k[m]+'">'+k[m]+"</option>";}o+='<option value="">'+g(n,"none")+"</option>";var k=h("vis_classes_by_orientation");for(var m=0;m<k.length;m++){o+='<option value="'+k[m]+'">'+k[m]+"</option>";}}return{title:g(n,"title"),minWidth:300,minHeight:225,resizable:false,contents:[{id:"tab1",label:"",title:"",expand:true,padding:0,elements:[{id:"elementId",type:"html",html:'<style type="text/css">'+".doksoft_bootstrap_block_conf-dlg select { border:1px solid #ccc !important; padding:3px !important; width:70px !important; -webkit-appearance: menulist !important; }"+".doksoft_bootstrap_block_conf-dlg td { padding:5px; }"+".doksoft_bootstrap_block_conf-dlg .mode-1 { "+(e==2?"display:none":"")+" }"+".doksoft_bootstrap_block_conf-dlg .mode-2 { "+(e==1?"display:none":"")+" }"+".doksoft_bootstrap_block_conf-dlg th { font-weight: bold; text-align: center; padding-bottom: 7px; }"+"</style>"+'<div contenteditable="false" class="doksoft_bootstrap_block_conf-dlg">'+"<table>"+"<thead>"+"<th>"+g(n,"size")+"</th>"+"<th>"+g(n,"width")+"</th>"+"<th>"+g(n,"offset")+"</th>"+'<th class="mode-1">'+g(n,"visibility")+"</th>"+"</thead>"+"<tbody>"+"<tr>"+"<td>"+g(n,"size_lg")+"</td>"+"<td>"+"<select onchange=\"doksoft_onchange('select-col-lg-x','select-col-lg-offset-x')\" id=\"select-col-lg-x\">"+'<option value="0">'+g(n,"none")+"</option>"+'<option value="1">1</option>'+'<option value="2">2</option>'+'<option value="3">3</option>'+'<option value="4">4</option>'+'<option value="5">5</option>'+'<option value="6">6</option>'+'<option value="7">7</option>'+'<option value="8">8</option>'+'<option value="9">9</option>'+'<option value="10">10</option>'+'<option value="11">11</option>'+'<option value="12">12</option>'+"</select>"+"</td>"+"<td>"+'<select id="select-col-lg-offset-x">'+'<option value="0">0</option>'+'<option value="1">1</option>'+'<option value="2">2</option>'+'<option value="3">3</option>'+'<option value="4">4</option>'+'<option value="5">5</option>'+'<option value="6">6</option>'+'<option value="7">7</option>'+'<option value="8">8</option>'+'<option value="9">9</option>'+'<option value="10">10</option>'+'<option value="11">11</option>'+'<option value="12">12</option>'+"</select>"+"</td>"+'<td class="mode-1">'+'<input type="checkbox" id="checkbox-col-lg-visible"/>'+"</td>"+"</tr>"+"<tr>"+"<td>"+g(n,"size_md")+"</td>"+"<td>"+"<select onchange=\"doksoft_onchange('select-col-md-x','select-col-md-offset-x')\" id=\"select-col-md-x\">"+'<option value="0">'+g(n,"none")+"</option>"+'<option value="1">1</option>'+'<option value="2">2</option>'+'<option value="3">3</option>'+'<option value="4">4</option>'+'<option value="5">5</option>'+'<option value="6">6</option>'+'<option value="7">7</option>'+'<option value="8">8</option>'+'<option value="9">9</option>'+'<option value="10">10</option>'+'<option value="11">11</option>'+'<option value="12">12</option>'+"</select>"+"</td>"+"<td>"+'<select id="select-col-md-offset-x">'+'<option value="0">0</option>'+'<option value="1">1</option>'+'<option value="2">2</option>'+'<option value="3">3</option>'+'<option value="4">4</option>'+'<option value="5">5</option>'+'<option value="6">6</option>'+'<option value="7">7</option>'+'<option value="8">8</option>'+'<option value="9">9</option>'+'<option value="10">10</option>'+'<option value="11">11</option>'+'<option value="12">12</option>'+"</select>"+"</td>"+'<td class="mode-1">'+'<input type="checkbox" id="checkbox-col-md-visible"/>'+"</td>"+"</tr>"+"<tr>"+"<td>"+g(n,"size_sm")+"</td>"+"<td>"+"<select onchange=\"doksoft_onchange('select-col-sm-x','select-col-sm-offset-x')\" id=\"select-col-sm-x\">"+'<option value="0">'+g(n,"none")+"</option>"+'<option value="1">1</option>'+'<option value="2">2</option>'+'<option value="3">3</option>'+'<option value="4">4</option>'+'<option value="5">5</option>'+'<option value="6">6</option>'+'<option value="7">7</option>'+'<option value="8">8</option>'+'<option value="9">9</option>'+'<option value="10">10</option>'+'<option value="11">11</option>'+'<option value="12">12</option>'+"</select>"+"</td>"+"<td>"+'<select id="select-col-sm-offset-x">'+'<option value="0">0</option>'+'<option value="1">1</option>'+'<option value="2">2</option>'+'<option value="3">3</option>'+'<option value="4">4</option>'+'<option value="5">5</option>'+'<option value="6">6</option>'+'<option value="7">7</option>'+'<option value="8">8</option>'+'<option value="9">9</option>'+'<option value="10">10</option>'+'<option value="11">11</option>'+'<option value="12">12</option>'+"</select>"+"</td>"+'<td class="mode-1">'+'<input type="checkbox" id="checkbox-col-sm-visible"/>'+"</td>"+"</tr>"+'<tr class="mode-1">'+"<td>"+g(n,"size_xs")+"</td>"+"<td>"+"<select onchange=\"doksoft_onchange('select-col-xs-x','select-col-xs-offset-x')\" id=\"select-col-xs-x\">"+'<option value="0">'+g(n,"none")+"</option>"+'<option value="1">1</option>'+'<option value="2">2</option>'+'<option value="3">3</option>'+'<option value="4">4</option>'+'<option value="5">5</option>'+'<option value="6">6</option>'+'<option value="7">7</option>'+'<option value="8">8</option>'+'<option value="9">9</option>'+'<option value="10">10</option>'+'<option value="11">11</option>'+'<option value="12">12</option>'+"</select>"+"</td>"+'<td style="padding:5px;">'+'<div style="width:100%;padding-top:4px;border-top:1px dotted gray"></div>'+'<select style="border:1px solid #ccc;padding:3px;width:70px;display:none" id="select-col-xs-offset-x">'+'<option value="0">0</option>'+'<option value="1">1</option>'+'<option value="2">2</option>'+'<option value="3">3</option>'+'<option value="4">4</option>'+'<option value="5">5</option>'+'<option value="6">6</option>'+'<option value="7">7</option>'+'<option value="8">8</option>'+'<option value="9">9</option>'+'<option value="10">10</option>'+'<option value="11">11</option>'+'<option value="12">12</option>'+"</select>"+"</td>"+"<td>"+'<input type="checkbox" id="checkbox-col-xs-visible"/>'+"</td>"+"</tr>"+'<tr class="mode-1">'+"<td>"+g(n,"size_print")+"</td>"+'<td colspan="2"><div style="width:100%;padding-top:4px;border-top:1px dotted gray"></div></td>'+"<td>"+'<input type="checkbox" id="checkbox-col-print-visible"/>'+"</td>"+"</tr>"+'<tr class="mode-2">'+"<td>"+g(n,"show_by_size")+"</td>"+'<td colspan="3">'+'<select style="width:150px !important" id="doksoft_bootstrap_block_conf-vis-size">'+l+"</select>"+"</td>"+"</tr>"+'<tr class="mode-2">'+"<td>"+g(n,"show_by_orientation")+"</td>"+'<td colspan="3">'+'<select style="width:150px !important" id="doksoft_bootstrap_block_conf-vis-orientation">'+o+"</select>"+"</td>"+"</tr>"+"</tbody>"+"</table>"+"</div>"}]}],buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton],onShow:function(){a(n.name,"dlg_opened",true);
doksoft_onchange=function(N,L){var P,O,J=parseInt((P=document.getElementById(N)).value),M=parseInt((O=document.getElementById(L)).value),H=O.childNodes;if(!J){O.value=0;O.setAttribute("disabled","true");O.style.backgroundColor="#EEE";return;}else{O.removeAttribute("disabled");O.style.backgroundColor="";}for(;H.length;){H[0].parentNode.removeChild(H[0]);}if(M+J>12){M=0;}for(var K=0;K<=12-J;K++){var I=document.createElement("option");I.setAttribute("value",K);I.innerHTML=K;if(K==M){I.setAttribute("selected",true);}O.appendChild(I);}};var y;var G;var E=c(n.name,"selected_element").className;if(typeof E=="undefined"||E==null){E="";}E=E.toLowerCase();var t=h("col_classes");var u=h("div_classes");for(var C=0;C<t.length;C++){var F=u[C];if(F!=""){G=0;y=RegExp(F.replace(/-x$/,"-([0-9]+)"));G=y.exec(E);var D=t[C];document.getElementById(D).value=(G&&G[1])?G[1]:0;}}for(var C=0;C<t.length;C+=2){doksoft_onchange(t[C],t[C+1]);}if(e==1){var w;var p=false;var z=[false,false,false,false];var q=false;var r=[false,false,false,false];var A=0;var x=h("vis_classes");for(var C=0;C<x.length-1;C+=2){if(E.indexOf(x[C])!=-1){p=true;z[A]=true;}A++;}A=0;for(var C=1;C<x.length;C+=2){if(E.indexOf(x[C])!=-1){q=true;r[A]=true;}A++;}var v=[true,true,true,true];if(p){v=z;}else{if(q){for(var C=0;C<r.length;C++){if(r[C]){v[C]=false;}}}}v.push(E.indexOf("hidden-print")==-1?true:false);document.getElementById("checkbox-col-lg-visible").checked=v[0];document.getElementById("checkbox-col-md-visible").checked=v[1];document.getElementById("checkbox-col-sm-visible").checked=v[2];document.getElementById("checkbox-col-xs-visible").checked=v[3];document.getElementById("checkbox-col-print-visible").checked=v[4];}else{if(e==2){var s=h("vis_classes_by_size");document.getElementById("doksoft_bootstrap_block_conf-vis-size").selectedIndex=0;for(var C=0;C<s.length;C++){if(E.indexOf(s[C])>-1){document.getElementById("doksoft_bootstrap_block_conf-vis-size").selectedIndex=C+1;}}var B=h("vis_classes_by_orientation");document.getElementById("doksoft_bootstrap_block_conf-vis-orientation").selectedIndex=0;for(var C=0;C<B.length;C++){if(E.indexOf(B[C])>-1){document.getElementById("doksoft_bootstrap_block_conf-vis-orientation").selectedIndex=C+1;}}}}},onOk:function(){var p=[],u=0,r=0;var s=h("col_classes");var t=h("div_classes");for(var u=0;u<s.length;u++){var v=t[u];if(v.length>0){r=parseInt(document.getElementById(s[u]).value);if(r){p.push(v.replace(/-x$/,"-"+r));}}}if(e==1){if(!document.getElementById("checkbox-col-lg-visible").checked){p.push("hidden-lg");}if(!document.getElementById("checkbox-col-md-visible").checked){p.push("hidden-md");}if(!document.getElementById("checkbox-col-sm-visible").checked){p.push("hidden-sm");}if(!document.getElementById("checkbox-col-xs-visible").checked){p.push("hidden-xs");}if(!document.getElementById("checkbox-col-print-visible").checked){p.push("hidden-print");}}else{if(e==2){if(p.length>0){p.push("columns");}var x=document.getElementById("doksoft_bootstrap_block_conf-vis-size");var w=x.options[x.selectedIndex].value;if(w.length>0){p.push(w);}x=document.getElementById("doksoft_bootstrap_block_conf-vis-orientation");w=x.options[x.selectedIndex].value;if(w.length>0){p.push(w);}}}var q=c(n.name,"selected_element");n.fire("doksoft_blocks_change",{element:q,classes:p});a(n.name,"dlg_opened",false);},onCancel:function(){a(n.name,"dlg_opened",false);}};});j.addCommand("doksoft_bootstrap_block_conf",{exec:function(){var k=j.ui.get("doksoft_bootstrap_block_conf");if(k._.state!=CKEDITOR.TRISTATE_DISABLED){j.openDialog("doksoft_bootstrap_block_conf");}}});j.on("doksoft_blocks_unselect",function(){if(c(j.name,"dlg_opened")===false){a(j.name,"selected_element",null);j.ui.get("doksoft_bootstrap_block_conf")&&j.ui.get("doksoft_bootstrap_block_conf").setState&&j.ui.get("doksoft_bootstrap_block_conf").setState(CKEDITOR.TRISTATE_DISABLED);}});j.on("doksoft_blocks_select",function(m){if(c(j.name,"dlg_opened")===false){var k=false;for(var l in m.data.element.classList.length){k=k||(m.data.element.classList[l]=="cke_button")||(m.data.element.classList[l]=="cke_button_icon");}if(!k&&m.data.element.tagName.toLowerCase()=="div"){a(j.name,"selected_element",m.data.element);j.ui.get("doksoft_bootstrap_block_conf")&&j.ui.get("doksoft_bootstrap_block_conf").setState&&j.ui.get("doksoft_bootstrap_block_conf").setState(CKEDITOR.TRISTATE_OFF);}}});var i=j.ui.addButton("doksoft_bootstrap_block_conf",{title:j.lang["doksoft_bootstrap_block_conf"].title,command:"doksoft_bootstrap_block_conf"});j.on("instanceReady",function(){j.ui.get("doksoft_bootstrap_block_conf")&&j.ui.get("doksoft_bootstrap_block_conf").setState&&j.ui.get("doksoft_bootstrap_block_conf").setState(CKEDITOR.TRISTATE_DISABLED);});j.on("mode",function(){j.ui.get("doksoft_bootstrap_block_conf")&&j.ui.get("doksoft_bootstrap_block_conf").setState&&j.ui.get("doksoft_bootstrap_block_conf").setState(CKEDITOR.TRISTATE_DISABLED);});}});})();
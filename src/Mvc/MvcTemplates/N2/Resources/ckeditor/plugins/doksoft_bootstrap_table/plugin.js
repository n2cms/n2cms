(function(){var a=1;var b="doksoft_bootstrap_table";CKEDITOR.plugins.add(b,{lang:"en,ru",requires:["panelbutton","floatpanel"],icons:b,init:function(e){if(a==0){}else{if(a==1){}else{if(a==2){}}}if(typeof e.lang[b][b]!="undefined"){e.lang[b]=e.lang[b][b];}if(false){e.ui.addButton(b,{command:b,icon:this.path+"icons/doksoft_bootstrap_table_4.png"});}var f=0,d=function(h){var o=document.getElementById(h);var n=o.getBoundingClientRect(),p=document.body,j=document.documentElement,i=window.pageYOffset||j.scrollTop||p.scrollTop,l=window.pageXOffset||j.scrollLeft||p.scrollLeft,m=j.clientTop||p.clientTop||0,q=j.clientLeft||p.clientLeft||0,r=n.top+i-m,k=n.left+l-q;return{top:Math.round(r),left:Math.round(k)};};e.on("instanceReady",function(h){f=document.createElement("div");f.setAttribute("id","cke_"+b+"_"+e.name);f.setAttribute("class","cke cke_reset_all cke_panel");f.setAttribute("role","presentation");f.setAttribute("style","display:none;height:initial;background:#fff; border:1px solid #ccc;padding:5px;position:absolute; width:150px;font-family:Arial;font-size:12px;z-index:"+(e.config.baseFloatZIndex+1));var m="";if(a==0||a==2){m+='<div style="font-size: 14px; vertical-align:middle; height:20px; line-height:1; display:block;padding-top:4px;">'+"<input "+((h.editor.config[b+"_default_100"]&&["yes",1,true].indexOf(h.editor.config[b+"_default_100"])!=-1)?"checked":"")+' style="vertical-align:middle;display:table-cell;margin-bottom:0" type="checkbox" id="cke_'+b+"_100_"+e.name+'"/>'+"&nbsp;width:100%"+"</div>";}if(a==1){m+='<div style="font-size: 14px; vertical-align:middle; height:20px; line-height:1; display:block;padding-top:4px;margin-bottom:5px">'+'<input style="vertical-align:middle;display:table-cell;margin-top:0" type="checkbox" id="cke_'+b+"_striped_"+e.name+'"/>'+"&nbsp;Striped"+"</div>"+'<div style="font-size: 14px; vertical-align:middle; height:20px; line-height:1; display:block;padding-top:4px;margin-bottom:5px">'+'<input style="vertical-align:middle;display:table-cell;margin-top:0" type="checkbox" id="cke_'+b+"_bordered_"+e.name+'"/>'+"&nbsp;Bordered"+"</div>"+'<div style="font-size: 14px; vertical-align:middle; height:20px; line-height:1; display:block;padding-top:4px;margin-bottom:5px">'+'<input style="vertical-align:middle;display:table-cell;margin-top:0" type="checkbox" id="cke_'+b+"_condensed_"+e.name+'"/>'+"&nbsp;Condensed"+"</div>";}m+='<div><table border="0" cellpadding="1" cellspacing="1">';var p=e.config[b+"_gui_width"]||6;var o=e.config[b+"_gui_height"]||6;var r=Math.round(140/p);for(var n=1;n<=o;n++){m+='<tr id="'+b+"_tr_"+n+'">';for(var l=1;l<=p;l++){m+='<td id="'+e.name+"_"+b+"_td_"+n+"_"+l+'" style="border:1px solid #c3d9ff; background-color:#ddeafb;width:'+r+"px;height:"+r+'px;"></td>';}m+="</tr>";}m+='</table></div><div id="cke_'+b+"_size_"+e.name+'" style="text-align:center">1:1</div>';f.innerHTML=m;document.body.appendChild(f);f.onmouseover=function(y){var w=y||window.event;var x=(w.srcElement||w.target);if(x.tagName.toLowerCase()=="td"){if(a==0){var v=/doksoft_table_td_([0-9]+)_([0-9]+)$/;}else{if(a==1){var v=/doksoft_bootstrap_table_td_([0-9]+)_([0-9]+)$/;}else{var v=/doksoft_foundation_table_td_([0-9]+)_([0-9]+)$/;}}var s=v.exec(x.id);for(var u=1;u<=o;u++){for(var t=1;t<=p;t++){document.getElementById(e.name+"_"+b+"_td_"+u+"_"+t).style.backgroundColor=(u<=parseInt(s[1])&&t<=parseInt(s[2]))?"#abcfff":"#ddeafb";}}document.getElementById("cke_"+b+"_size_"+e.name).innerHTML=s[1]+":"+s[2];}};var q=function(j,i){return new Array(++i).join(j);};var k=function(i){return new CKEDITOR.dom.element(i,e.document);};if(a==1){CKEDITOR.dialog.add("tableBootstrapProperties",function(i){return{title:"Table Bootstrap Options",minWidth:200,minHeight:70,resizable:false,contents:[{id:"tab1",label:"",title:"",expand:true,padding:0,elements:[{id:"elementId",type:"html",html:'<!--<div style="font-size: 14px; vertical-align:middle; height:20px;">'+'<input onclick="if(this.checked){ '+"document.getElementById('cke_"+b+"_striped_"+i.name+"1').removeAttribute('disabled');"+"document.getElementById('cke_"+b+"_bordered_"+i.name+"1').removeAttribute('disabled');"+"document.getElementById('cke_"+b+"_condensed_"+i.name+"1').removeAttribute('disabled');"+"}else{"+"document.getElementById('cke_"+b+"_striped_"+i.name+"1').setAttribute('disabled');"+"document.getElementById('cke_"+b+"_bordered_"+i.name+"1').setAttribute('disabled');"+"document.getElementById('cke_"+b+"_condensed_"+i.name+"1').setAttribute('disabled');"+"};"+'" style="vertical-align:middle;display:table-cell" type="checkbox" id="cke_'+b+"_is_bootstrap_"+i.name+'1"/>'+"&nbsp;Is bootstrap table-->"+"</div>"+'<div style="font-size: 14px; vertical-align:middle; height:20px; display:block;padding-top:4px;">'+'<input style="vertical-align:middle;display:table-cell" type="checkbox" id="cke_'+b+"_striped_"+i.name+'1"/>'+"&nbsp;Striped"+"</div>"+'<div style="font-size: 14px; vertical-align:middle; height:20px; display:block;padding-top:4px;">'+'<input style="vertical-align:middle;display:table-cell" type="checkbox" id="cke_'+b+"_bordered_"+i.name+'1"/>'+"&nbsp;Bordered"+"</div>"+'<div style="font-size: 14px; vertical-align:middle; height:20px; display:block;padding-top:4px;">'+'<input style="vertical-align:middle;display:table-cell" type="checkbox" id="cke_'+b+"_condensed_"+i.name+'1"/>'+"&nbsp;Condensed"+"</div>"}]}],buttons:[CKEDITOR.dialog.okButton],onShow:function(){var t=i.getSelection(),j=t.getRanges(),u;
var s=t.getSelectedElement();if(s&&s.is("table")){u=s;}else{if(j.length>0){if(CKEDITOR.env.webkit){j[0].shrink(CKEDITOR.NODE_ELEMENT);}u=i.elementPath(j[0].getCommonAncestor(true)).contains("table",1);}}this._.selectedElement=u;if(u.hasClass("table")){document.getElementById("cke_"+b+"_striped_"+i.name+"1").removeAttribute("disabled");document.getElementById("cke_"+b+"_bordered_"+i.name+"1").removeAttribute("disabled");document.getElementById("cke_"+b+"_condensed_"+i.name+"1").removeAttribute("disabled");}else{document.getElementById("cke_"+b+"_striped_"+i.name+"1").setAttribute("disabled");document.getElementById("cke_"+b+"_bordered_"+i.name+"1").setAttribute("disabled");document.getElementById("cke_"+b+"_condensed_"+i.name+"1").setAttribute("disabled");}if(u.hasClass("table-striped")){document.getElementById("cke_"+b+"_striped_"+i.name+"1").checked=true;}else{document.getElementById("cke_"+b+"_striped_"+i.name+"1").checked=false;}if(u.hasClass("table-bordered")){document.getElementById("cke_"+b+"_bordered_"+i.name+"1").checked=true;}else{document.getElementById("cke_"+b+"_bordered_"+i.name+"1").checked=false;}if(u.hasClass("table-condensed")){document.getElementById("cke_"+b+"_condensed_"+i.name+"1").checked=true;}else{document.getElementById("cke_"+b+"_condensed_"+i.name+"1").checked=false;}},onOk:function(){if(this._.selectedElement){this._.selectedElement.addClass("table");if(document.getElementById("cke_"+b+"_striped_"+i.name+"1").checked){this._.selectedElement.addClass("table-striped");}else{this._.selectedElement.removeClass("table-striped");}if(document.getElementById("cke_"+b+"_bordered_"+i.name+"1").checked){this._.selectedElement.addClass("table-bordered");this._.selectedElement.removeClass("cke_show_border");}else{this._.selectedElement.removeClass("table-bordered");this._.selectedElement.addClass("cke_show_border");}if(document.getElementById("cke_"+b+"_condensed_"+i.name+"1").checked){this._.selectedElement.addClass("table-condensed");}else{this._.selectedElement.removeClass("table-condensed");}}}};});e.addCommand("tableBootstrapProperties",new CKEDITOR.dialogCommand("tableBootstrapProperties"));if(e.addMenuItems){e.addMenuItems({table_bootstrap:{label:"Bootstrap table options",command:"tableBootstrapProperties",group:"table",order:5}});}if(e.contextMenu){e.contextMenu.addListener(function(i){if(i&&i.is("table")||i&&i.is("tbody")||i&&i.is("td")||i&&i.is("th")||i&&i.is("tr")){return{table_bootstrap:CKEDITOR.TRISTATE_OFF};}});}}f.onmousedown=function(F){var D=e.getSelection(),u=D.createBookmarks();var y=F||window.event;var A=(y.srcElement||y.target);if(A.tagName.toLowerCase()=="td"){if(a==0){var B=/doksoft_table_td_([0-9]+)_([0-9]+)$/;}else{if(a==1){var B=/doksoft_bootstrap_table_td_([0-9]+)_([0-9]+)$/;}else{if(a==2){var B=/doksoft_foundation_table_td_([0-9]+)_([0-9]+)$/;}}}var G=B.exec(A.id),v="",E=k("table"),x=E.append(k("tbody"));if(a==0||a==2){if(document.getElementById("cke_"+b+"_100_"+e.name).checked){E.setStyle("width","100%");}}var z="cke_show_border "+(h.editor.config[b+"_class"]?h.editor.config[b+"_class"]:"");if(a==1){z+=" table";if(document.getElementById("cke_"+b+"_striped_"+e.name).checked){z+=" table-striped";}if(document.getElementById("cke_"+b+"_bordered_"+e.name).checked){z+=" table-bordered";z=z.replace("cke_show_border","");}if(document.getElementById("cke_"+b+"_condensed_"+e.name).checked){z+=" table-condensed";}}E.setAttribute("class",z);var C,s;for(var w=1;w<=parseInt(G[1]);w++){C=x.append(k("tr"));for(var t=1;t<=parseInt(G[2]);t++){s=C.append(k("td"));if(!CKEDITOR.env.ie){s.append(k("br"));}}}f.style.display="none";e.insertElement(E);setTimeout(function(){var j=k(E.$.rows[0].cells[0]);var i=new CKEDITOR.dom.range(e.document);i.moveToPosition(j,CKEDITOR.POSITION_AFTER_START);i.select(true);e.focus();},10);}else{if(A.tagName.toLowerCase()!="input"){}}y.stopPropagation();};e.on("contentDom",function(){e.editable().on("mousedown",function(i){f.style.display="none";});});e.document.$.addEventListener("mousedown",function(i){f.style.display="none";},false);window.addEventListener("mousedown",function(s){var i=s||window.event;var j=(i.srcElement||i.target);if(f.style.display=="block"&&j.tagName.toLowerCase()!="input"){f.style.display="none";}},false);});var g=e.addCommand(b,{exec:function(h){f.style.display="block";var i=d(this.uiItems[0]._.id);f.style.left=(i.left+16)+"px";f.style.top=(i.top+16)+"px";}});var c=0;e.ui.add(b,CKEDITOR.UI_PANELBUTTON,{label:e.lang[b].add_table,title:e.lang[b].add_table,editorFocus:1,modes:{wysiwyg:1},className:"cke_"+b,panel:{attributes:{role:"listbox","aria-label":""}},onBlock:function(h,i){window[b+e.name]=this._.id;h.onShow=function(){var j=d(window[b+e.name]);this.element.setStyle("visibility","hidden");f.style.display="block";f.style.left=(j.left)+"px";f.style.top=(j.top+24)+"px";};}});}});})();